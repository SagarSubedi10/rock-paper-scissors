<html>
    <head>
        <style>
            body{
                background-color: black;
            }
            h1, h2, h3, p{
                color: white;
            }
            nav{
                text-align: center;
                padding-top: 1%;
            }
            main{
                display:flex;
                min-height: 100%;
            }
            .left{
                justify-content: left;
                text-align: center;
                width: 25%;
                background-image: url(left.png);
                background-size: contain;
            }
            .left > h2{
                padding-left: 35%;
            }
            .mid{
                justify-content: center;
                text-align: center;
                width: 50%;
            }
            .mid > h3{
                padding-top: 5%%;
            }
            .mid > h1{
                padding-bottom: 3%;
            }
            .right{
                justify-content: right;
                text-align: center;
                width: 25%;
                background-image: url(right.png);
                background-size: contain;
            }
            .right > h2{
                padding-right: 25%;
            }
            .mid > .rock{
                padding-right: 30;
                padding-left: 30;
            }
        </style>
        <script>
            function computerPlay() {
                let handOptions = ["rock", "paper", "scissors"];
                return handOptions[Math.floor(Math.random() * 3)];
            }
            function playRound(playerChoice, handOptions) {
                playerChoice = playerChoice.toLowerCase();
                switch(playerChoice) {
                case "rock":
                    if (computerChoice === "rock") {
                    return ["draw", "Draw! Rock vs Rock", computerChoice];
                    } else if (computerChoice === "paper") {
                    return ["lose", "You lose! Paper beats Rock", computerChoice];
                    } else if (computerChoice === "scissors") {
                    return ["win", "You win! Rock beats Scissors", computerChoice];
                    }
                    break;
                case "paper":
                    if (computerChoice === "rock") {
                    return ["win", "You win! Paper beats Rock", computerChoice];
                    } else if (computerChoice === "paper") {
                    return ["draw", "Draw! Paper vs Paper", computerChoice];
                    } else if (computerChoice === "scissors") {
                    return ["lose", "You lose! Scissors beats Paper", computerChoice];
                    }
                    break;
                case "scissors":
                    if (computerChoice === "rock") {
                    return ["lose", "You lose! Rock beats Scissors", computerChoice];
                    } else if (computerChoice === "paper") {
                    return ["win", "You win! Scissors beats Paper", computerChoice];
                    } else if (computerChoice === "scissors") {
                    return ["draw", "Draw! Scissors vs Scissors", computerChoice];
                    }
                    break;
                }
            }
            function game(e) {
                let roundResult = playRound(this.id, computerPlay());

                if (roundResult[0] === "win") {
                    playerScore += 1;
                    pScore.textContent = `Your score: ${playerScore}`
                } else if (roundResult[0] === "lose") {
                    computerScore += 1;
                    cScore.textContent = `Computer score: ${computerScore}`
                }
                round ++;
                displayRound.textContent = `Round ${round}`;
                compChoice.textContent = `The computer chose ${roundResult[2]}`;
                roundActions.textContent = `Round ${round-1} result: ${roundResult[1]}`;
                if (playerScore === 5 || computerScore ===5) declareWinner();
            }
            
            function swapButtons() {
                const buttonDiv = document.getElementById('buttons');
                buttons.forEach(button => button.remove());
                buttons = document.createElement('button');
                buttons.textContent = 'New Game';
                buttons.classList.add('newgamebutton');
                buttonDiv.appendChild(buttons);
                buttons.addEventListener("click", buttons => location.reload())
            }
            function declareWinner() {
                if (playerScore > computerScore) {
                    endResults.textContent = 'You win!'
                } else {
                    endResults.textContent = 'You lose, better luck next time!'
                }
                swapButtons();
            }
            let playerScore = 0;
            let computerScore = 0;
            let round = 1;
            const pScore=document.getElementById('playerscore');
            const cScore=document.getElementById('computerscore');
            const displayRound=document.getElementById('round');
            const roundActions=document.getElementById('roundactions');
            const compChoice=document.getElementById('computerchoice');
            const endResults=document.getElementById('endresults');
            let buttons=document.querySelectorAll("button");
            buttons.forEach(button => button.addEventListener("click", game));

        </script>
    </head>
    <body>
        <main>
        <div class="box"></div>

            <div class="left">
                <h2>Human </h2>
                <p id="playerScore"></p>
            </div>

            <div class="mid">
                <h1>Water - Earth - Fire</h1>               
                <h3>Select an Element</h3>
            
                <button> <img src="paper.jpg" width="150px"> </button>
                <button> <img src="rock.jpg" width="150px"> </button>
                <button> <img src="scissor.jpg" width="150px"> </button>

                <div id="results">
                    <p id="computerchoice"></p>
                    <p id="roundactions"></p>
                </div>
            </div>

            <div class ="right">
                <h2>Computer </h2>
                <p id="computerScore"></p>
            </div>

        </div>

        </main>
    </body>
</html>
